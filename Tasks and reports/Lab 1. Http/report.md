# Отчет по лабораторной работе #1

> В работе было использовано расширение для Google Chrome Restlet Client и Burp Suite.

## Запрос OPTIONS

Метод HTTP запроса OPTIONS используется для определения возможностей веб-сервера и описания  параметров соединения с целевым ресурсом.

В настоящий момент нет определенной спецификации для работы с данным заголовком, поэтому каждый ресурс по разному реагирует на запрос с OPTIONS:

![Imgur](https://i.imgur.com/aEj33ki.png)

Наиболее верно и ожидаемо отреагировал Google: 

![Imgur](https://i.imgur.com/JEU1T13.png)


## Запрос HEAD 

Запрос HEAD обычно применяется для извлечения метаданных, проверки наличия ресурса (валидация URL) и чтобы узнать, не изменился ли он с момента последнего обращения.

![Imgur](https://i.imgur.com/NeHTGBc.png)
![Imgur](https://i.imgur.com/1amOQuG.png)
![Imgur](https://i.imgur.com/IZsVM1e.png)


## Запросы GET и POST

Коды ответов в этом случае различны: 200, 403, 301, 405.

В теле ответа, как правило содержится документ HTML. 

![Imgur](https://i.imgur.com/TuBM7aw.png)


## VK API

Для того, чтобы получить список всех факультетов МГТУ им. Баумана, необходимо сперва получить идентификатор университета. 

```
https://api.vk.com/method/database.getUniversities?q=МГТУ&count=3&access_token=&v=5.85
```

Получаем JSON, откуда узнаем, что id МГТУ им.Баумана 250. 

```json
{
"response": {
"count": 81,
"items": [{
"id": 248,
"title": "ТИ МГУДТ (бывш. МГТУ им. Косыгина, МГТА им. Косыгина, МТИ им. Косыгина)"
}, {
"id": 249,
"title": "МГТУ ГА"
}, {
"id": 250,
"title": "МГТУ им. Н. Э. Баумана"
}]
}
}
```

Для того, что узнать факультеты университета отправляем следующий запрос: 

```
https://api.vk.com/method/database.getFaculties?university_id=250&access_token=&v=5.85
```
Ответ API:

```json
{
"response": {
"count": 20,
"items": [{
"id": 1031,
"title": "Аэрокосмический факультет"
}, {
"id": 1032,
"title": "Факультет инженерного бизнеса и менеджмента"
}, {
"id": 1033,
"title": "Факультет информатики и систем управления"
}, {
"id": 1034,
"title": "Факультет машиностроительных технологий"
}, {
"id": 1035,
"title": "Факультет оптико-электронного приборостроения"
}, {
"id": 1036,
"title": "Приборостроительный факультет"
}, {
"id": 1037,
"title": "Радиотехнический факультет"
}, {
"id": 1038,
"title": "Факультет радиоэлектроники и лазерной техники"
}, {
"id": 1039,
"title": "Факультет ракетно-космической техники"
}, {
"id": 1040,
"title": "Факультет робототехники и комплексной автоматизации"
}, {
"id": 1041,
"title": "Факультет специального машиностроения"
}, {
"id": 1042,
"title": "Факультет фундаментальных наук"
}, {
"id": 1043,
"title": "Факультет энергомашиностроения"
}, {
"id": 1044,
"title": "Кафедра юриспруденции, интеллектуальной собственности и судебной экспертизы"
}, {
"id": 1803,
"title": "Факультет биомедицинской техники"
}, {
"id": 1804,
"title": "Факультет социально-гуманитарных наук"
}, {
"id": 56430,
"title": "Факультет лингвистики"
}, {
"id": 56431,
"title": "Физкультурно-оздоровительный факультет"
}, {
"id": 2071503,
"title": "Головной учебно-исследовательский и методический центр (ГУИМЦ)"
}, {
"id": 2183736,
"title": "Факультет военного обучения (Военный институт)"
}]
}
}
```

Получаем свою аватарку: 

```
https://api.vk.com/method/users.get?users_ids=id37131325&fields=photo_200_orig&access_token=&v=5.85
```

```json 
{
"response": [{
"id": 37131325,
"first_name": "Pandora",
"last_name": "Lewandowski",
"photo_200_orig": "https://pp.userap...5vC-EwYoA.jpg?ava=1"
}]
}
```


Стандартный ответ Vk API:

![Imgur](https://i.imgur.com/29jOkcV.png)


Код ответа 200 OK. Тело ответа содержит JSON в gzip. На запросы отвечает сервер Nginx. Используется протокол HTTP 1.1. 


Отправим запрос на страницу группы. 

```
https://api.vk.com/method/wall.post?owner_id=-101389074&message=New post on group wall via API.console.&access_token=&v=5.85
```

![Imgur](https://i.imgur.com/grv2CmD.png)

## Передача данных в POST-запросах 

Когда веб-браузер отправляет POST-запрос, он устанавливает заголовок Content-Type в нужный тип отправляемых данных. Чаще всего можно встретить тип данных «application/x-www-form-urlencoded». Это формат для кодирования пар ключ-значение с возможностью дублирования ключей. Каждая пара ключ-значение отделяется символом &, ключ отделён от значения символом = . В ключах и значениях пробелы заменяются на знак +, и затем, используя URL-кодирование, заменяются все не буквенно-цифровые символы.